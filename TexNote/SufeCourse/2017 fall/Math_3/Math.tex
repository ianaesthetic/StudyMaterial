\documentclass[10pt, a4paper]{article}
    \title{Math Note}
    \author{ianaesthetic}
\usepackage{indentfirst, amsmath, fontspec, listings, xcolor}
\setmainfont{微软雅黑}

\newfontfamily\consolas{Consolas}
\lstset{numbers = left, numberstyle = \small\consolas, basicstyle = \small\consolas}

\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt

\begin{document}
    \maketitle
    \newpage

    \section{空间几何}
        \subsection{点法式方程}
            在知道一个在平面上的点$M(x_0,\ y_0,\ z_0)$和法向量$\textbf{n} = (A,\ B,\ C)$时，通过这个平面上任意一个向量与法向量垂直可以得出这个平面为
            $$A(x - x_0) + B(y - y_0) + C(z - z_0) = 0$$
        \subsection{平面的一般方程}
            $$Ax + By + Cz = 0$$
            
            其中法向量为 $(A,\ B,\ C)$
    \section{多元微分学}
        \subsection{偏导数在几何中的应用}
            \subsubsection{空间曲线的切线和法平面}
                空间曲线的一般参数形式为：
                $
                    \left\{\begin{aligned}
                        x & = & x(t) \\
                        y & = & y(t) \\
                        z & = & z(t)
                    \end{aligned}
                    \right.
                $
                讨论一般空间曲线的切线方程。

                $$\frac{x - x_0}{x(t) - x(t_0)} = \frac{y - y_0}{y(t) - y(t_0)} = \frac{z - z_0}{z(t) - z(t_0)}$$
                
                $$\frac{x - x_0}{\frac{x(t) - x(t_0)}{t - t_0}} = \frac{y - y_0}{\frac{y(t) - y(t_0)}{t - t_0}} = \frac{z - z_0}{\frac{z(t) - z(t_0}{t - t_0}}$$
                \newline 
                \begin{equation}
                    \frac{x - x_0}{x^{'}(t_0)} = \frac{y - y_0}{y^{'}(t_0)} = \frac{z - z_0}{z^{'}(t_0)}
                \end{equation}
                
                所以切向量和法平面为
                \begin{equation}
                    (x^{'}(t),\ y^{'}(t),\ z^{'}(t))
                \end{equation}
                \begin{equation}
                    x^{'}(t)(x - x_0) + y^{'}(t)(y - y_0) + z^{'}(t)(z - z_0) = 0 
                \end{equation}
                
                注意，在这个公式出现可能的$\frac{0}{0}$时，需要写成其他形式如：
                $$
                    \left\{
                        \begin{aligned}
                            \frac{x - x_0}{x^{'}(t)} & = & \frac{y - y_0}{y'(t)} \\
                            z&=&z_0
                        \end{aligned}
                        \right.
                $$
                
                还有的曲线方程形如：$y = f(x), z = g(x)$, 直接将$x$看作参数，套用上面的公式。
                
                如果是两曲面交的形式$F(x, y, z) = 0, G(x, y, z) = 0$，则使用隐函数推导得到$y, z$对于$x$的导数。推导方式就是对两边同时求$x$的偏导，然后解一个线性方程。
                
                $$
                    \frac{\partial F}{\partial x} + \frac{\partial F}{\partial y}\frac{\partial y}{\partial x} + \frac{\partial F}{\partial z}\frac{\partial z}{\partial x} = 0
                $$
                $$
                    \frac{\partial G}{\partial x} + \frac{\partial G}{\partial y}\frac{\partial y}{\partial x} + \frac{\partial G}{\partial z}\frac{\partial z}{\partial x} = 0
                $$ 
                
                定理：曲线
                $
                    \left\{
                        \begin{aligned}
                            F(x,\ y,\ z) & = & 0 \\
                            G(x,\ y,\ z) & = & 0
                        \end{aligned}
                    \right.
                $在$P_0$的法 平面是由梯度向量$\textbf{grad}F(P_0)$ 和 $\textbf{grad}G(P_0)$张成的过$P_0$的平面。
                
                证明思路：由于雅各布矩阵满秩证明线性无关，并证明两个梯度向量与切向量垂直。
    \section{极值}
        \subsection{无条件极值}
            设$D\in R^n$, 对于$\textbf{x}_0 \in D$, $\exists O(\textbf{x}_0, r)$, $\forall \textbf{x} \in O(\textbf{x}_0, r)$, $f(\textbf{x}) > f(\textbf{x}_0)$, 则$\textbf({x}_0)$是$f$的极小值点。极大值点同理。

            定理：设$\textbf{x}_0$是函数$f$的一个极值点，且$f$在$\textbf{x}_0$点可偏导，则$\textbf{x}_0$是驻点，且
            $$f_{x_1}(\textbf{x}_0) = f_{x_2}(\textbf{x}_0) = ... = f_{x_n}(\textbf{x}_0)$$
            证明：只变动其中的一维，通过一元函数证明在每一维上的偏导数为0。

            跟一维一样，驻点不一定是极值点，同时极值点也不一定是驻点(可能是导数不存在的点)。
            \newline

            定理(二维)：设$(x_0, y_0)$为$f$的驻点，$f$在此点由连续二阶偏导，记为:
                $$A = f_{xx}(x_0, y_0),\ B = f_{xy}(x_0, y_0),\ C = f_{yy}(x_0, y_0)$$
                并记
                \begin{equation*}
                    \Delta = 
                    \begin{vmatrix}
                        A & B \\
                        B & C
                    \end{vmatrix}
                \end{equation*}

                $a$. 如果 $\Delta > 0$, $A > 0$ 时这个驻点是极小值，$A < 0$时是极小值。

                $b$. 如果 $\Delta < 0$, 则驻点不是极值点。
                
                $c$. 如果 $\Delta = 0$, 需要特殊讨论（几何，etc）
            
                对于$\Delta = 0$ 的情况的举例，$f(x, y) = x ^ 2 - 2xy^2 + y^4 - y^5$是非极值点的情况, 是极值点的是$z = x^3$  (╯‵□′)╯︵┻━┻
            \newline 

            求最值的时候一要注意边界，同时结合画图进行分析。
            
            \subsubsection{最小二乘法}
                最小二乘法是用于拟合线性的函数，非线性函数某些比如指数函数也可以转化为线性函数使用最小二乘法。近似出来的函数关系被称为最小二乘法意义下的拟合曲线，同时也被称为经验公式。 对于已经拥有的一组可能的线性数据，目标为：
                $$Q = \sum_{i = 1}^{n}(y_i - ax_i - b)^2$$
                
                求这个式子取得最小值时的$a, b$值。
    \section{条件极值}
        条件概率最为基础的方法是带入消元，无法消元再使用拉格朗日乘数法

        要找函数$z = f(x, y)$在条件$\phi (x, y) = 0$ 下的可能极值点。 
        先构造函数, 其中$\lambda$为一个常数：
        $$F(x, y) = f(x, y) + \lambda \phi (x, y)$$
        \begin{equation*}
            \left\{
                \begin{aligned}
                    f_x(x,\ y) + \lambda
                \end{aligned} 
                \right.
        \end{equation*} 

        asdasdasd
\end{document}